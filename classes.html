<html>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
      <div class="mermaid">
    
        classDiagram
          class Action {
            commit : bool
            do_exec : bool
            id : Optional[str]
            name : Optional[str]
            pool
            redo_of : Optional[str]
            sql_queries : list
            timestamp : datetime
            user_object_id : Optional[str]
            add_sql_query(sqlquery: str, params: tuple) None
            execute() None
            get_latest_action(user_id: str) 'Action'
            next() 'Action'
            previous() 'Action'
          }
          class Analysis {
            prefix : str
          }
          class AnalysisStatic {
          }
          class Condition {
            prefix : str
            load() None
          }
          class Config {
            data_db_file
            db_file : NoneType
            load_config(config_path: str, key: str) None
            save_config(config_path: str) None
          }
          class CurrentUser {
            conn
            pool
            get_current_user_id() str
            set_current_user_id(user: str) None
          }
          class DBConnection {
            conn_dict : dict
          }
          class DBConnectionFactory {
            create_db_connection(db_file: str, singleton: bool) DBConnection
          }
          class DBConnectionMySQL {
            conn
          }
          class DBConnectionSQLite {
            conn
            close()
          }
          class DBHandler {
            conn
            add_setting(setting: str, value: str) None
            get_setting(setting: str) str
            isolate_most_recent(result: list, action_col_num: int, duplicate_col_num: int) list
            set_current_user_object_id(user_object_id: str) None
          }
          class DBInitializer {
            conn
            conn_data
            data_db_file : Optional[str]
            db_file : Optional[str]
            pool
            pool_data
            check_tables_exist(conn: sqlite3.Connection, intended_tables: list)
            create_tables()
            create_tables_data_db()
            init_current_user_id(user_id: str)
          }
          class DataObject {
            load_dataobject_vrs() None
          }
          class Dataset {
            addresses : list
            prefix : str
            addresses_to_graph(addresses: list) nx.MultiDiGraph
            load_addresses() list
            load_schema() None
            save_addresses(addresses: list, action: Action) None
            save_schema(schema: list, action: Action) None
            validate_addresses(addresses: list) None
            validate_dataset_path(path: str) None
            validate_schema(schema: list) None
          }
          class DefaultAttrs {
            cls
            complex_attrs
            default_attrs
          }
          class IDCreator {
            pool
            create_action_id() str
            create_ro_id(cls, abstract: str, instance: str, is_abstract: bool) str
            get_prefix(id: str) str
            is_ro_id(id: str) bool
          }
          class Logsheet {
            num_header_rows : int
            prefix : str
            clean_value(type_class: type, raw_value: Any) Any
            from_json_class_column_names(json_var: dict) dict
            from_json_headers(json_var: str) list
            load_xlsx() list
            read_and_clean_logsheet(nrows: int) list
            read_logsheet() None
            to_json_class_column_names(var: dict) dict
            to_json_headers(headers: list) str
            validate_class_column_names(class_column_names: dict) None
            validate_headers(headers: list) None
            validate_num_header_rows(num_header_rows: int) None
            validate_path(path: str) None
          }
          class Phase {
            prefix : str
          }
          class PipelineObject {
          }
          class Plot {
            prefix : str
          }
          class Process {
            prefix : str
            from_json_input_vrs(input_vrs: str) dict
            from_json_level(level: str) type
            from_json_method(json_method: str) Callable
            from_json_output_vrs(output_vrs: str) dict
            run() None
            set_input_vrs() None
            set_output_vrs() None
            to_json_input_vrs(input_vrs: dict) str
            to_json_level(level: type) str
            to_json_method(method: Callable) str
            to_json_output_vrs(output_vrs: dict) str
            validate_input_vrs(inputs: dict) None
            validate_level(level: type) None
            validate_method(method: Callable) None
            validate_mfolder(mfolder: str) None
            validate_mfunc_name(mfunc_name: str) None
            validate_output_vrs(outputs: dict) None
            validate_subset_id(subset_id: str) None
          }
          class Process {
          }
          class Project {
            current_analysis_id
            prefix : str
            project_path : str
            validate_current_analysis_id(id: str) None
            validate_current_dataset_id(id: str) None
            validate_project_path(path: str) None
          }
          class Project {
          }
          class ROGraph {
          }
          class ResearchObject {
            get_current_schema_id(dataset_id: str) str
            get_dataset_id() str
            get_vr(name: str) Any
          }
          class ResearchObjectHandler {
            counts : dict
            instances : WeakValueDictionary
            pool
            pool_data
            check_inputs(cls: type, tmp_kwargs: dict) None
            clean_value_for_save_mat(value: Any) Any
            clean_value_from_load_mat(numpy_array: Any) Any
            from_json(research_object: 'ResearchObject', attr_name: str, attr_value_json: Any) Any
            load_vr_value(research_object: 'DataObject', vr: 'Variable') Any
            object_exists(id: str) bool
            save_simple_attribute(id: str, name: str, json_value: Any, action: Action) Action
            validate(research_object: 'ResearchObject', name: str, value: Any) None
          }
          class ReturnVisitor {
            returned_vars : list
            visit_Return(node)
          }
          class SQLiteConnectionPool {
            close_all()
            get_connection()
            print_caller_method_name()
            return_connection(connection)
          }
          class Subject {
            prefix : str
          }
          class Subset {
            prefix : str
            get_subset() nx.MultiDiGraph
            meets_conditions(node: Any, conditions: dict, G: nx.MultiDiGraph) bool
            validate_conditions(conditions: dict) None
          }
          class Trial {
            prefix : str
          }
          class Variable {
            level
            name
            prefix : str
            from_json_level(level: str) type
            to_json_level(level: type) dict
            validate_level(level: type) None
          }
          class Visit {
            prefix : str
          }
          Condition --|> DataObject
          DataObject --|> ResearchObject
          Dataset --|> DataObject
          Phase --|> DataObject
          Subject --|> DataObject
          Trial --|> DataObject
          Visit --|> DataObject
          AnalysisStatic --|> PipelineObject
          Process --|> PipelineObject
          Project --|> PipelineObject
          Analysis --|> PipelineObject
          Logsheet --|> PipelineObject
          PipelineObject --|> ResearchObject
          Plot --|> PipelineObject
          Process --|> PipelineObject
          Project --|> PipelineObject
          Subset --|> PipelineObject
          DBConnectionMySQL --|> DBConnection
          DBConnectionSQLite --|> DBConnection
          Variable --|> ResearchObject
          SQLiteConnectionPool --* Action : pool
          SQLiteConnectionPool --* DBInitializer : pool
          SQLiteConnectionPool --* DBInitializer : pool_data
          SQLiteConnectionPool --* IDCreator : pool
          SQLiteConnectionPool --* ResearchObjectHandler : pool
          SQLiteConnectionPool --* ResearchObjectHandler : pool_data
          SQLiteConnectionPool --o CurrentUser : pool
  
       </div>
  </body>
</html>
