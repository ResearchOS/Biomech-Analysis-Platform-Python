
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Mitchell Tillman">
      
      
      
        <link rel="prev" href="../../Quick%20Start/quickstart_py/">
      
      
        <link rel="next" href="../Data%20Object%20Types/data_object/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Research Objects - ResearchOS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#research-objects" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ResearchOS" class="md-header__button md-logo" aria-label="ResearchOS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ResearchOS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Research Objects
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ResearchOS/ResearchOS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ResearchOS
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ResearchOS" class="md-nav__button md-logo" aria-label="ResearchOS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ResearchOS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ResearchOS/ResearchOS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ResearchOS
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to ResearchOS (pre-alpha version)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DiGraph
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            DiGraph
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DiGraph/digraph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DiGraph
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Quick%20Start/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Quick%20Start/quickstart_py/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quickstart.py
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Research Object Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Research Object Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Research Objects
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Research Objects
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject" class="md-nav__link">
    <span class="md-ellipsis">
      ResearchObject
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__get_all_related_object_ids" class="md-nav__link">
    <span class="md-ellipsis">
      __get_all_related_object_ids
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__new__" class="md-nav__link">
    <span class="md-ellipsis">
      __new__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__setattr__" class="md-nav__link">
    <span class="md-ellipsis">
      __setattr__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.abstract_id" class="md-nav__link">
    <span class="md-ellipsis">
      abstract_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.copy_to_new_instance" class="md-nav__link">
    <span class="md-ellipsis">
      copy_to_new_instance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.create_id" class="md-nav__link">
    <span class="md-ellipsis">
      create_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.get_abstract_object" class="md-nav__link">
    <span class="md-ellipsis">
      get_abstract_object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.get_all_ids" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_ids
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.is_id" class="md-nav__link">
    <span class="md-ellipsis">
      is_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.is_instance_object" class="md-nav__link">
    <span class="md-ellipsis">
      is_instance_object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.object_exists" class="md-nav__link">
    <span class="md-ellipsis">
      object_exists
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.parse_id" class="md-nav__link">
    <span class="md-ellipsis">
      parse_id
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Object Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Data Object Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data%20Object%20Types/data_object/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data%20Object%20Types/dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data%20Object%20Types/phase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data%20Object%20Types/subject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subject
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data%20Object%20Types/trial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data%20Object%20Types/visit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visit
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipeline & Data Object Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Pipeline & Data Object Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20%26%20Data%20Object%20Types/user/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20%26%20Data%20Object%20Types/variable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variable
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipeline Object Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Pipeline Object Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20Object%20Types/analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20Object%20Types/logsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logsheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20Object%20Types/pipeline_object/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20Object%20Types/process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20Object%20Types/process_group/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProcessGroup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20Object%20Types/project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline%20Object%20Types/subset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subset
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject" class="md-nav__link">
    <span class="md-ellipsis">
      ResearchObject
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__get_all_related_object_ids" class="md-nav__link">
    <span class="md-ellipsis">
      __get_all_related_object_ids
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__new__" class="md-nav__link">
    <span class="md-ellipsis">
      __new__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.__setattr__" class="md-nav__link">
    <span class="md-ellipsis">
      __setattr__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.abstract_id" class="md-nav__link">
    <span class="md-ellipsis">
      abstract_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.copy_to_new_instance" class="md-nav__link">
    <span class="md-ellipsis">
      copy_to_new_instance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.create_id" class="md-nav__link">
    <span class="md-ellipsis">
      create_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.get_abstract_object" class="md-nav__link">
    <span class="md-ellipsis">
      get_abstract_object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.get_all_ids" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_ids
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.is_id" class="md-nav__link">
    <span class="md-ellipsis">
      is_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.is_instance_object" class="md-nav__link">
    <span class="md-ellipsis">
      is_instance_object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.object_exists" class="md-nav__link">
    <span class="md-ellipsis">
      object_exists
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ResearchOS.research_object.ResearchObject.parse_id" class="md-nav__link">
    <span class="md-ellipsis">
      parse_id
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="research-objects">Research Objects</h1>
<h2 id="overview">Overview</h2>
<p>Everything within the ResearchOS framework is a Research Object - at the highest level are User objects, and at the lowest are Variable objects. All Research Objects are stored in the database, and are accessible by using the methods provided in the ResearchOS API.</p>
<p>All Research Objects are one or both of the following:</p>
<ul>
<li>
<p><strong>Data Objects</strong> - objects that are involved in storing data, such as a Subject or Trial. These objects are typically created by a Process, and are used to store data that is generated by a Process. It is perhaps helpful to recognize that these objects are similar in nature to the "factors" of a statistical analysis.</p>
</li>
<li>
<p><strong>Pipeline Objects</strong> - objects that are involved in performing data analysis, such as a Process or Project.</p>
</li>
</ul>
<p><img alt="Research Object Class Hierarchy" src="../research_objects_class_hierarchy.png" /></p>


<div class="doc doc-object doc-class">



<a id="ResearchOS.research_object.ResearchObject"></a>
  <div class="doc doc-contents first">

  
      <p>One research object. Parent class of Data Objects &amp; Pipeline Objects.</p>

            <details class="quote">
              <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ResearchObject</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;One research object. Parent class of Data Objects &amp; Pipeline Objects.&quot;&quot;&quot;</span>

    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;RO&quot;</span> <span class="c1"># Testing only</span>
    <span class="n">_objects</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">WeakValueDictionary</span><span class="p">()</span>
    <span class="c1"># _objects_count = {}   </span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">ResearchObject</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_attr_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">attrs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="c1">#         return_str = &quot;current_analysis_id: &quot; + self.current_analysis_id + &quot;\n&quot; + ...</span>
        <span class="c1"># &quot;current_dataset_id: &quot; + self.current_dataset_id + &quot;\n&quot; + ...</span>
        <span class="c1"># &quot;project_path: &quot; + self.project_path</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new research object. If the object already exists, return the existing object.</span>
<span class="sd">        If abstract is True, returns an abstract object that does not have an instance ID.</span>
<span class="sd">        Otherwise, returns an instance object that has an instance ID.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">DEFAULT_ABSTRACT_KWARG_NAME</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">abstract</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">object_id</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Only id can be a positional argument&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">object_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">object_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>        
        <span class="k">if</span> <span class="n">object_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>            
            <span class="n">object_id</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">is_abstract</span> <span class="o">=</span> <span class="n">abstract</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">object_id</span> <span class="ow">in</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_objects</span><span class="p">:</span>
            <span class="c1"># ResearchObject._objects_count[object_id] += 1</span>
            <span class="k">return</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_objects</span><span class="p">[</span><span class="n">object_id</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># Create a new object.</span>
            <span class="n">instance</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">ResearchObject</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
            <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_objects</span><span class="p">[</span><span class="n">object_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance</span>
            <span class="c1"># ResearchObject._objects_count[object_id] = 1</span>
            <span class="n">instance</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">object_id</span>
            <span class="k">return</span> <span class="n">instance</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_NAME_ATTRIBUTE_NAME</span><span class="p">,</span> <span class="n">default_attrs</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;id is required as either an arg or kwarg but will actually not be used here because it is assigned during __new__&quot;&quot;&quot;</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="c1"># self.id always exists by this point thanks to __new__</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not an ID!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Fails if the object does not exist.</span>
            <span class="n">is_new</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="c1"># Create the new object in the database.</span>
            <span class="n">is_new</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">)</span>
            <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_objects (object_id) VALUES (&#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
            <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">commit</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>            
            <span class="n">default_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">default_attrs</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="n">DEFAULT_EXISTS_ATTRIBUTE_NAME</span><span class="p">:</span> <span class="n">DEFAULT_EXISTS_ATTRIBUTE_VALUE</span><span class="p">,</span> <span class="n">DEFAULT_NAME_ATTRIBUTE_NAME</span><span class="p">:</span> <span class="n">name</span><span class="p">}}</span> <span class="c1"># Python 3.5 or later</span>
        <span class="n">all_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">default_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span> <span class="c1"># Append kwargs to default attributes.</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">all_attrs</span><span class="p">:</span>
            <span class="c1"># Skip if it already exists, or if it exists in the object (from being loaded) and is the same as the kwarg&#39;s value.</span>
            <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="ow">or</span> <span class="p">(</span><span class="n">attr</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">!=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">attr</span><span class="p">]):</span>
                <span class="k">continue</span>
            <span class="n">validate</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="n">validate</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">all_attrs</span><span class="p">[</span><span class="n">attr</span><span class="p">],</span> <span class="n">validate</span> <span class="o">=</span> <span class="n">validate</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_new</span><span class="p">:</span>
            <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_time_ordered_result</span><span class="p">(</span><span class="n">result</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">action_col_num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the result array from conn.cursor().execute() in reverse chronological order (e.g. latest first).&quot;&quot;&quot;</span>
        <span class="n">unordered_action_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="n">action_col_num</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">result</span><span class="p">]</span> <span class="c1"># A list of action ID&#39;s in no particular order.</span>
        <span class="n">action_ids_str</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">action_id</span><span class="si">}</span><span class="s1">&quot;&#39;</span> <span class="k">for</span> <span class="n">action_id</span> <span class="ow">in</span> <span class="n">unordered_action_ids</span><span class="p">])}</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT action_id FROM actions WHERE action_id IN (</span><span class="si">{</span><span class="n">action_ids_str</span><span class="si">}</span><span class="s2">) ORDER BY timestamp DESC&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">ordered_action_ids</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ordered_action_ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">ordered_action_ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No actions found.&quot;</span><span class="p">)</span>
        <span class="n">ordered_action_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">action_id</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">action_id</span> <span class="ow">in</span> <span class="n">ordered_action_ids</span><span class="p">]</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">ordered_action_ids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">action_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">action_id</span> <span class="ow">in</span> <span class="n">unordered_action_ids</span><span class="p">]</span>
        <span class="n">sorted_result</span> <span class="o">=</span> <span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">sorted_result</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load the current state of a research object from the database.&quot;&quot;&quot;</span>        
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT action_id, attr_id, attr_value, target_object_id FROM research_object_attributes WHERE object_id = &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="n">unordered_attr_result</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="n">ordered_attr_result</span> <span class="o">=</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_time_ordered_result</span><span class="p">(</span><span class="n">unordered_attr_result</span><span class="p">,</span> <span class="n">action_col_num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unordered_attr_result</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No object with that ID exists.&quot;</span><span class="p">)</span>         

        <span class="n">curr_obj_attr_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">ordered_attr_result</span><span class="p">]</span>
        <span class="n">num_attrs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">curr_obj_attr_ids</span><span class="p">)))</span> <span class="c1"># Get the number of unique action ID&#39;s.</span>
        <span class="n">used_attr_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">ordered_attr_result</span><span class="p">:</span>            
            <span class="n">attr_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">attr_value_json</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">target_object_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">attr_id</span> <span class="ow">in</span> <span class="n">used_attr_ids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">used_attr_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attr_id</span><span class="p">)</span>                        

            <span class="n">attr_name</span> <span class="o">=</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_name</span><span class="p">(</span><span class="n">attr_id</span><span class="p">)</span>
            <span class="c1"># Translate the attribute from string to the proper type/format.                     </span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">from_json_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;self.from_json_&quot;</span> <span class="o">+</span> <span class="n">attr_name</span><span class="p">)</span>
                <span class="n">attr_value</span> <span class="o">=</span> <span class="n">from_json_method</span><span class="p">(</span><span class="n">attr_value_json</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">attr_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">attr_value_json</span><span class="p">)</span>            
            <span class="c1"># Now that the value is loaded as the proper type/format (and is not None), validate it.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">attr_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">validate_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;self.validate_&quot;</span> <span class="o">+</span> <span class="n">attr_name</span><span class="p">)</span>
                    <span class="n">validate_method</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_value</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">used_attr_ids</span><span class="p">)</span> <span class="o">==</span> <span class="n">num_attrs</span><span class="p">:</span>
                <span class="k">break</span> <span class="c1"># Every attribute is accounted for.</span>

        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">__value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">validate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the attributes of a research object in memory and in the SQL database.</span>
<span class="sd">        Validates the attribute if it is a built-in ResearchOS attribute (i.e. a method exists to validate it).</span>
<span class="sd">        If it is not a built-in ResearchOS attribute, then no validation occurs.&quot;&quot;&quot;</span>
        <span class="c1"># TODO: Have already implemented adding current_XXX_id object to digraph in the database, but should also update the in-memory digraph.        </span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">validate</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">__name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="n">__value</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># No change.</span>
        <span class="k">if</span> <span class="n">__name</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot change the ID of a research object.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">__name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;_&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># Don&#39;t log private attributes.</span>
        <span class="c1"># Validate the value        </span>
        <span class="k">if</span> <span class="n">validate</span><span class="p">:</span>                                                      
            <span class="k">try</span><span class="p">:</span>
                <span class="n">validate_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.validate_</span><span class="si">{</span><span class="n">__name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">validate_method</span><span class="p">(</span><span class="n">__value</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="n">to_json_method</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">to_json_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.to_json_</span><span class="si">{</span><span class="n">__name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">json_value</span> <span class="o">=</span> <span class="n">to_json_method</span><span class="p">(</span><span class="n">__value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>            
            <span class="n">json_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">__value</span><span class="p">,</span> <span class="n">indent</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>

        <span class="c1"># Create an action.</span>
        <span class="n">execute_action</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">execute_action</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;attribute_changed&quot;</span><span class="p">)</span>
        <span class="c1"># Update the attribute in the database.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">to_json_method</span> <span class="ow">is</span> <span class="kc">None</span> <span class="c1"># Cannot convert to json AND have a store method. Store method takes precedence.</span>
            <span class="n">method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.store_</span><span class="si">{</span><span class="n">__name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>            
            <span class="n">action</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="n">__value</span><span class="p">,</span> <span class="n">action</span> <span class="o">=</span> <span class="n">action</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_store_obj_attr</span><span class="p">(</span><span class="n">__name</span><span class="p">,</span> <span class="n">__value</span><span class="p">,</span> <span class="n">json_value</span><span class="p">,</span> <span class="n">action</span> <span class="o">=</span> <span class="n">action</span><span class="p">)</span>            
        <span class="c1"># If the attribute contains the words &quot;current&quot; and &quot;id&quot; and the ID has been validated, add a digraph edge between the two objects with an attribute.</span>
        <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^current_[\w\d]+_id$&quot;</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">__name</span><span class="p">)</span> <span class="ow">and</span> <span class="n">validate</span><span class="p">:</span>
            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_store_edge_attr</span><span class="p">(</span><span class="n">target_object_id</span> <span class="o">=</span> <span class="n">__value</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">__name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">DEFAULT_EXISTS_ATTRIBUTE_VALUE</span><span class="p">,</span> <span class="n">action</span> <span class="o">=</span> <span class="n">action</span><span class="p">)</span>
            <span class="c1"># if self.__dict__.get(__name, None) != __value:</span>
            <span class="c1">#     execute_action = True # Need to execute an action if adding an edge.</span>
        <span class="k">if</span> <span class="n">execute_action</span><span class="p">:</span>
            <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">__name</span><span class="p">]</span> <span class="o">=</span> <span class="n">__value</span>

    <span class="k">def</span> <span class="nf">_default_store_edge_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_object_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a digraph edge between the current object and the target object with the specified attribute.&quot;&quot;&quot;</span>
        <span class="n">json_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">indent</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_object_attributes (action_id, object_id, attr_id, attr_value, target_object_id) VALUES (&#39;</span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_id</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="n">json_value</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="n">target_object_id</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
        <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">action</span>

    <span class="k">def</span> <span class="nf">_default_store_obj_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">__value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">json_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Action</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;If no store_attr method exists for the object attribute, use this default method.&quot;&quot;&quot;</span>                                      
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_object_attributes (action_id, object_id, attr_id, attr_value) VALUES (&#39;</span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_id</span><span class="p">(</span><span class="n">__name</span><span class="p">,</span><span class="w"> </span><span class="n">__value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="n">json_value</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>                
        <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">action</span>

    <span class="c1">###############################################################################################################################</span>
    <span class="c1">#################################################### end of dunder methods ####################################################</span>
    <span class="c1">###############################################################################################################################</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_all_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all object IDs of the specified class.&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT object_id FROM research_objects&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span> <span class="k">if</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">prefix</span><span class="p">))]</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">abstract</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">is_abstract</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a unique ID for the research object.&quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">table_name</span> <span class="o">=</span> <span class="s2">&quot;research_objects&quot;</span>
        <span class="n">is_unique</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">is_unique</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">abstract</span><span class="p">:</span>
                <span class="n">abstract_new</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="o">**</span><span class="n">abstract_id_len</span><span class="p">))[</span><span class="mi">2</span><span class="p">:])</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
                <span class="n">abstract_new</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">abstract_id_len</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">abstract_new</span><span class="p">))</span> <span class="o">+</span> <span class="n">abstract_new</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">abstract_new</span> <span class="o">=</span> <span class="n">abstract</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">instance</span><span class="p">:</span>
                <span class="n">instance_new</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="o">**</span><span class="n">instance_id_len</span><span class="p">))[</span><span class="mi">2</span><span class="p">:])</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
                <span class="n">instance_new</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">instance_id_len</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">instance_new</span><span class="p">))</span> <span class="o">+</span> <span class="n">instance_new</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">instance_new</span> <span class="o">=</span> <span class="n">instance</span>
            <span class="k">if</span> <span class="n">is_abstract</span><span class="p">:</span>
                <span class="n">instance_new</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

            <span class="nb">id</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">prefix</span> <span class="o">+</span> <span class="n">abstract_new</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">instance_new</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;SELECT object_id FROM </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s1"> WHERE object_id = &quot;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
            <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">is_unique</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">is_abstract</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Abstract ID already exists.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">id</span>      

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_attr_id</span><span class="p">(</span><span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the ID of an attribute given its name. If it does not exist, create it.&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT attr_id FROM Attributes WHERE attr_name = &#39;</span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>            
        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;More than one attribute with the same name.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_create_attr</span><span class="p">(</span><span class="n">attr_name</span><span class="p">,</span> <span class="n">attr_value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_id</span><span class="p">(</span><span class="n">attr_name</span><span class="p">,</span> <span class="n">attr_value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_create_attr</span><span class="p">(</span><span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new attribute with the specified name and return its ID.&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">attr_type</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">attr_value</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO Attributes (attr_name, attr_type) VALUES </span><span class="si">{</span><span class="n">attr_name</span><span class="p">,</span><span class="w"> </span><span class="n">attr_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="c1"># sqlquery = f&quot;INSERT INTO Attributes (attr_name, attr_type) VALUES (&#39;{attr_name}&#39;, &#39;{attr_type}&#39;)&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="n">lastrowid</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_attr_name</span><span class="p">(</span><span class="n">attr_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the name of an attribute given the attribute&#39;s ID. If it does not exist, return an error.&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT attr_name FROM Attributes WHERE attr_id = &#39;</span><span class="si">{</span><span class="n">attr_id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No attribute with that ID exists.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_attr_type</span><span class="p">(</span><span class="n">attr_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the type of an attribute given the attribute&#39;s ID. If it does not exist, return an error.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pydoc</span> <span class="kn">import</span> <span class="n">locate</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT attr_type FROM Attributes WHERE attr_id = &#39;</span><span class="si">{</span><span class="n">attr_id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No attribute with that ID exists.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">locate</span><span class="p">(</span><span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

    <span class="c1">###############################################################################################################################</span>
    <span class="c1">#################################################### end of abstract methods ##################################################</span>
    <span class="c1">###############################################################################################################################</span>

    <span class="k">def</span> <span class="nf">abstract_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the abstract ID of the current object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_instance_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return true if the object is an instance object, false if it is an abstract object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">object_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return true if the specified id exists in the database, false if not.&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT object_id FROM research_objects WHERE object_id = &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">is_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the given ID matches the pattern of a valid research object ID.&quot;&quot;&quot;</span>              
        <span class="n">instance_pattern</span> <span class="o">=</span> <span class="s2">&quot;^[a-zA-Z]</span><span class="si">{2}</span><span class="s2">[a-fA-F0-9]</span><span class="si">{6}</span><span class="s2">_[a-fA-F0-9]</span><span class="si">{3}</span><span class="s2">$&quot;</span>
        <span class="n">abstract_pattern</span> <span class="o">=</span> <span class="s2">&quot;^[a-zA-Z]</span><span class="si">{2}</span><span class="s2">[a-fA-F0-9]</span><span class="si">{6}</span><span class="s2">$&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;id must be a str!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">instance_pattern</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">abstract_pattern</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>    

    <span class="k">def</span> <span class="nf">_is_id_of_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;True if the ID is of the proper type, False if not.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">prefix</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_is_id_or_none</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the given ID matches the pattern of a valid research object ID, or is None.&quot;&quot;&quot;</span>              
        <span class="k">if</span> <span class="nb">id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_get_all_source_object_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all source object ids of the specified target object of the specified type. Immediate neighbors only, equivalent to predecessors() method&quot;&quot;&quot;</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;SELECT object_id, attr_value FROM research_object_attributes WHERE target_object_id = &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_all_related_object_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_all_target_object_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all target object ids of the specified source object of the specified type. Immediate neighbors only, equivalent to successors() method&quot;&quot;&quot;</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;SELECT target_object_id, attr_value FROM research_object_attributes WHERE object_id = &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_all_related_object_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__get_all_related_object_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Called by _get_all_source_object_ids and _get_all_target_object_ids.</span>
<span class="sd">        Get all related object ids of the specified object of the specified type, either source of target objects.&quot;&quot;&quot;</span>
        <span class="c1"># TODO: Ensure that the edges are not outdated, check the &quot;exists&quot; property.</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">prefix</span><span class="p">):</span>                
                <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">_is_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the specified object ID is a source object of the current object.&quot;&quot;&quot;</span>        
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT object_id FROM research_object_attributes WHERE target_object_id = &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; AND object_id = &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">_is_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the specified object ID is a target object of the current object.&quot;&quot;&quot;</span>        
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT target_object_id FROM research_object_attributes WHERE object_id = &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; AND target_object_id = &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">_add_target_object_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a target object ID to the current source object in the database.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid ID.&quot;</span><span class="p">)</span>    
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_id_of_class</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;ID is of the wrong class!&quot;</span><span class="p">)</span>          
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_target</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">return</span> <span class="c1"># Already exists.</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;add_target_object_id&quot;</span><span class="p">)</span>
        <span class="n">json_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_object_attributes (action_id, object_id, target_object_id, attr_id, attr_value) VALUES (&#39;</span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;, </span><span class="si">{</span><span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_id</span><span class="p">(</span><span class="n">DEFAULT_EXISTS_ATTRIBUTE_NAME</span><span class="p">)</span><span class="si">}</span><span class="s2">, &#39;</span><span class="si">{</span><span class="n">json_value</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>        
        <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_remove_target_object_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove a target object ID from the current source object.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid ID.&quot;</span><span class="p">)</span>   
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_id_of_class</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;ID is of the wrong class!&quot;</span><span class="p">)</span>           
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_target</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;remove_target_object_id&quot;</span><span class="p">)</span>
        <span class="n">json_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_object_attributes (action_id, object_id, target_object_id, attr_id, attr_value) VALUES (&#39;</span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_id</span><span class="p">(</span><span class="n">DEFAULT_NAME_ATTRIBUTE_NAME</span><span class="p">)</span><span class="si">}</span><span class="s2">, &#39;</span><span class="si">{</span><span class="n">json_value</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>        
        <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_add_source_object_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a source object ID to the current target object in the database.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid ID.&quot;</span><span class="p">)</span>      
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_id_of_class</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;ID is of the wrong class!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_source</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">return</span> <span class="c1"># Already exists</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;add_source_object_id&quot;</span><span class="p">)</span>
        <span class="n">json_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_object_attributes (action_id, object_id, target_object_id, attr_id, attr_value) VALUES (&#39;</span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_id</span><span class="p">(</span><span class="n">DEFAULT_EXISTS_ATTRIBUTE_NAME</span><span class="p">)</span><span class="si">}</span><span class="s2">, &#39;</span><span class="si">{</span><span class="n">json_value</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>        
        <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_remove_source_object_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove a source object ID from the current target object in the database.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid ID.&quot;</span><span class="p">)</span>      
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_id_of_class</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;ID is of the wrong class!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_source</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">json_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;remove_source_object_id&quot;</span><span class="p">)</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_object_attributes (action_id, object_id, target_object_id, attr_id, attr_value) VALUES (&#39;</span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;, &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_id</span><span class="p">(</span><span class="n">DEFAULT_EXISTS_ATTRIBUTE_NAME</span><span class="p">)</span><span class="si">}</span><span class="s2">, &#39;</span><span class="si">{</span><span class="n">json_value</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>        
        <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_gen_obj_or_none</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ResearchObject&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate the objects of the specified class, or None if the IDs argument is None or [].&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">]</span>

    <span class="c1">###############################################################################################################################</span>
    <span class="c1">#################################################### end of parentage methods #################################################</span>
    <span class="c1">############################################################################################################################### </span>

    <span class="k">def</span> <span class="nf">get_abstract_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ResearchObject&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the abstract object corresponding to the given the instance object. If abstract is given, return self.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_instance_object</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="n">abstract_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="n">abstract_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy_to_new_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ResearchObject&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Copy the current object to a new object with a new instance ID but the same abstract ID. Return the new object.&quot;&quot;&quot;</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">new_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">abstract_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">new_id</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">abstract</span> <span class="o">=</span> <span class="n">abstract_id</span><span class="p">)</span>
        <span class="n">new_object</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">copy</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">new_id</span><span class="p">)</span>        
        <span class="n">attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="c1"># No validation because that would&#39;ve already happened when the original object was created.</span>
            <span class="n">new_object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">validate</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_object</span>

    <span class="c1">###############################################################################################################################</span>
    <span class="c1">############################################ end of abstract/instance relation methods ########################################</span>
    <span class="c1">###############################################################################################################################     </span>

    <span class="k">def</span> <span class="nf">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse an ID into its prefix, abstract, and instance parts.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid ID.&quot;</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="o">+</span><span class="n">abstract_id_len</span><span class="p">]</span>
        <span class="n">num_underscores</span> <span class="o">=</span> <span class="nb">id</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">num_underscores</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>            
            <span class="n">instance</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="o">-</span><span class="n">instance_id_len</span><span class="p">:]</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">abstract</span><span class="p">,</span> <span class="n">instance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_open_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a file or directory in the default application.&quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">subprocess</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;open&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;open&quot;</span><span class="p">,</span> <span class="s2">&quot;-R&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.__get_all_related_object_ids" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">__get_all_related_object_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Called by _get_all_source_object_ids and _get_all_target_object_ids.
Get all related object ids of the specified object of the specified type, either source of target objects.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__get_all_related_object_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Called by _get_all_source_object_ids and _get_all_target_object_ids.</span>
<span class="sd">    Get all related object ids of the specified object of the specified type, either source of target objects.&quot;&quot;&quot;</span>
    <span class="c1"># TODO: Ensure that the edges are not outdated, check the &quot;exists&quot; property.</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">prefix</span><span class="p">):</span>                
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">DEFAULT_NAME_ATTRIBUTE_NAME</span><span class="p">,</span> <span class="n">default_attrs</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>id is required as either an arg or kwarg but will actually not be used here because it is assigned during <strong>new</strong></p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_NAME_ATTRIBUTE_NAME</span><span class="p">,</span> <span class="n">default_attrs</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;id is required as either an arg or kwarg but will actually not be used here because it is assigned during __new__&quot;&quot;&quot;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="c1"># self.id always exists by this point thanks to __new__</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not an ID!&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Fails if the object does not exist.</span>
        <span class="n">is_new</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="c1"># Create the new object in the database.</span>
        <span class="n">is_new</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;INSERT INTO research_objects (object_id) VALUES (&#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
        <span class="n">action</span><span class="o">.</span><span class="n">add_sql_query</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
        <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">commit</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>            
        <span class="n">default_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">default_attrs</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="n">DEFAULT_EXISTS_ATTRIBUTE_NAME</span><span class="p">:</span> <span class="n">DEFAULT_EXISTS_ATTRIBUTE_VALUE</span><span class="p">,</span> <span class="n">DEFAULT_NAME_ATTRIBUTE_NAME</span><span class="p">:</span> <span class="n">name</span><span class="p">}}</span> <span class="c1"># Python 3.5 or later</span>
    <span class="n">all_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">default_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span> <span class="c1"># Append kwargs to default attributes.</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">all_attrs</span><span class="p">:</span>
        <span class="c1"># Skip if it already exists, or if it exists in the object (from being loaded) and is the same as the kwarg&#39;s value.</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="ow">or</span> <span class="p">(</span><span class="n">attr</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">!=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">attr</span><span class="p">]):</span>
            <span class="k">continue</span>
        <span class="n">validate</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">validate</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">all_attrs</span><span class="p">[</span><span class="n">attr</span><span class="p">],</span> <span class="n">validate</span> <span class="o">=</span> <span class="n">validate</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_new</span><span class="p">:</span>
        <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.__new__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Create a new research object. If the object already exists, return the existing object.
If abstract is True, returns an abstract object that does not have an instance ID.
Otherwise, returns an instance object that has an instance ID.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new research object. If the object already exists, return the existing object.</span>
<span class="sd">    If abstract is True, returns an abstract object that does not have an instance ID.</span>
<span class="sd">    Otherwise, returns an instance object that has an instance ID.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">DEFAULT_ABSTRACT_KWARG_NAME</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">object_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">object_id</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Only id can be a positional argument&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">object_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">object_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>        
    <span class="k">if</span> <span class="n">object_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>            
        <span class="n">object_id</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">is_abstract</span> <span class="o">=</span> <span class="n">abstract</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">object_id</span> <span class="ow">in</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_objects</span><span class="p">:</span>
        <span class="c1"># ResearchObject._objects_count[object_id] += 1</span>
        <span class="k">return</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_objects</span><span class="p">[</span><span class="n">object_id</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># Create a new object.</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">ResearchObject</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_objects</span><span class="p">[</span><span class="n">object_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance</span>
        <span class="c1"># ResearchObject._objects_count[object_id] = 1</span>
        <span class="n">instance</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">object_id</span>
        <span class="k">return</span> <span class="n">instance</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.__setattr__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__setattr__</span><span class="p">(</span><span class="n">__name</span><span class="p">,</span> <span class="n">__value</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Set the attributes of a research object in memory and in the SQL database.
Validates the attribute if it is a built-in ResearchOS attribute (i.e. a method exists to validate it).
If it is not a built-in ResearchOS attribute, then no validation occurs.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">__value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">validate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the attributes of a research object in memory and in the SQL database.</span>
<span class="sd">    Validates the attribute if it is a built-in ResearchOS attribute (i.e. a method exists to validate it).</span>
<span class="sd">    If it is not a built-in ResearchOS attribute, then no validation occurs.&quot;&quot;&quot;</span>
    <span class="c1"># TODO: Have already implemented adding current_XXX_id object to digraph in the database, but should also update the in-memory digraph.        </span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">validate</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">__name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="n">__value</span><span class="p">:</span>
        <span class="k">return</span> <span class="c1"># No change.</span>
    <span class="k">if</span> <span class="n">__name</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot change the ID of a research object.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">__name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;_&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="c1"># Don&#39;t log private attributes.</span>
    <span class="c1"># Validate the value        </span>
    <span class="k">if</span> <span class="n">validate</span><span class="p">:</span>                                                      
        <span class="k">try</span><span class="p">:</span>
            <span class="n">validate_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.validate_</span><span class="si">{</span><span class="n">__name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">validate_method</span><span class="p">(</span><span class="n">__value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="n">to_json_method</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">to_json_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.to_json_</span><span class="si">{</span><span class="n">__name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">json_value</span> <span class="o">=</span> <span class="n">to_json_method</span><span class="p">(</span><span class="n">__value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>            
        <span class="n">json_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">__value</span><span class="p">,</span> <span class="n">indent</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>

    <span class="c1"># Create an action.</span>
    <span class="n">execute_action</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">execute_action</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;attribute_changed&quot;</span><span class="p">)</span>
    <span class="c1"># Update the attribute in the database.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">to_json_method</span> <span class="ow">is</span> <span class="kc">None</span> <span class="c1"># Cannot convert to json AND have a store method. Store method takes precedence.</span>
        <span class="n">method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.store_</span><span class="si">{</span><span class="n">__name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>            
        <span class="n">action</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="n">__value</span><span class="p">,</span> <span class="n">action</span> <span class="o">=</span> <span class="n">action</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_store_obj_attr</span><span class="p">(</span><span class="n">__name</span><span class="p">,</span> <span class="n">__value</span><span class="p">,</span> <span class="n">json_value</span><span class="p">,</span> <span class="n">action</span> <span class="o">=</span> <span class="n">action</span><span class="p">)</span>            
    <span class="c1"># If the attribute contains the words &quot;current&quot; and &quot;id&quot; and the ID has been validated, add a digraph edge between the two objects with an attribute.</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^current_[\w\d]+_id$&quot;</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">__name</span><span class="p">)</span> <span class="ow">and</span> <span class="n">validate</span><span class="p">:</span>
        <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_store_edge_attr</span><span class="p">(</span><span class="n">target_object_id</span> <span class="o">=</span> <span class="n">__value</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">__name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">DEFAULT_EXISTS_ATTRIBUTE_VALUE</span><span class="p">,</span> <span class="n">action</span> <span class="o">=</span> <span class="n">action</span><span class="p">)</span>
        <span class="c1"># if self.__dict__.get(__name, None) != __value:</span>
        <span class="c1">#     execute_action = True # Need to execute an action if adding an edge.</span>
    <span class="k">if</span> <span class="n">execute_action</span><span class="p">:</span>
        <span class="n">action</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">__name</span><span class="p">]</span> <span class="o">=</span> <span class="n">__value</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.abstract_id" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">abstract_id</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Return the abstract ID of the current object.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">abstract_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the abstract ID of the current object.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.copy_to_new_instance" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">copy_to_new_instance</span><span class="p">(</span><span class="n">new_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Copy the current object to a new object with a new instance ID but the same abstract ID. Return the new object.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">copy_to_new_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ResearchObject&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy the current object to a new object with a new instance ID but the same abstract ID. Return the new object.&quot;&quot;&quot;</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">new_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">abstract_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">new_id</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">abstract</span> <span class="o">=</span> <span class="n">abstract_id</span><span class="p">)</span>
    <span class="n">new_object</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">copy</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">new_id</span><span class="p">)</span>        
    <span class="n">attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="c1"># No validation because that would&#39;ve already happened when the original object was created.</span>
        <span class="n">new_object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">validate</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_object</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.create_id" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">create_id</span><span class="p">(</span><span class="n">abstract</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_abstract</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">
  
      <p>Create a unique ID for the research object.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">abstract</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">is_abstract</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a unique ID for the research object.&quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">random</span>
    <span class="n">table_name</span> <span class="o">=</span> <span class="s2">&quot;research_objects&quot;</span>
    <span class="n">is_unique</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">is_unique</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">abstract</span><span class="p">:</span>
            <span class="n">abstract_new</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="o">**</span><span class="n">abstract_id_len</span><span class="p">))[</span><span class="mi">2</span><span class="p">:])</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">abstract_new</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">abstract_id_len</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">abstract_new</span><span class="p">))</span> <span class="o">+</span> <span class="n">abstract_new</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">abstract_new</span> <span class="o">=</span> <span class="n">abstract</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">instance</span><span class="p">:</span>
            <span class="n">instance_new</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="o">**</span><span class="n">instance_id_len</span><span class="p">))[</span><span class="mi">2</span><span class="p">:])</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">instance_new</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">instance_id_len</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">instance_new</span><span class="p">))</span> <span class="o">+</span> <span class="n">instance_new</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">instance_new</span> <span class="o">=</span> <span class="n">instance</span>
        <span class="k">if</span> <span class="n">is_abstract</span><span class="p">:</span>
            <span class="n">instance_new</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="nb">id</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">prefix</span> <span class="o">+</span> <span class="n">abstract_new</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">instance_new</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;SELECT object_id FROM </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s1"> WHERE object_id = &quot;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">is_unique</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">is_abstract</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Abstract ID already exists.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">id</span>      
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.get_abstract_object" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_abstract_object</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Return the abstract object corresponding to the given the instance object. If abstract is given, return self.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_abstract_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ResearchObject&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the abstract object corresponding to the given the instance object. If abstract is given, return self.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_instance_object</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span>
    <span class="n">abstract_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="n">abstract_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.get_all_ids" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_all_ids</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">
  
      <p>Get all object IDs of the specified class.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_all_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all object IDs of the specified class.&quot;&quot;&quot;</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT object_id FROM research_objects&quot;</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span> <span class="k">if</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">prefix</span><span class="p">))]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.is_id" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Check if the given ID matches the pattern of a valid research object ID.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the given ID matches the pattern of a valid research object ID.&quot;&quot;&quot;</span>              
    <span class="n">instance_pattern</span> <span class="o">=</span> <span class="s2">&quot;^[a-zA-Z]</span><span class="si">{2}</span><span class="s2">[a-fA-F0-9]</span><span class="si">{6}</span><span class="s2">_[a-fA-F0-9]</span><span class="si">{3}</span><span class="s2">$&quot;</span>
    <span class="n">abstract_pattern</span> <span class="o">=</span> <span class="s2">&quot;^[a-zA-Z]</span><span class="si">{2}</span><span class="s2">[a-fA-F0-9]</span><span class="si">{6}</span><span class="s2">$&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;id must be a str!&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">instance_pattern</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">abstract_pattern</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>    
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.is_instance_object" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_instance_object</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Return true if the object is an instance object, false if it is an abstract object.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_instance_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return true if the object is an instance object, false if it is an abstract object.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.load" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">load</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Load the current state of a research object from the database.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load the current state of a research object from the database.&quot;&quot;&quot;</span>        
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT action_id, attr_id, attr_value, target_object_id FROM research_object_attributes WHERE object_id = &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
    <span class="n">unordered_attr_result</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">ordered_attr_result</span> <span class="o">=</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_time_ordered_result</span><span class="p">(</span><span class="n">unordered_attr_result</span><span class="p">,</span> <span class="n">action_col_num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unordered_attr_result</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No object with that ID exists.&quot;</span><span class="p">)</span>         

    <span class="n">curr_obj_attr_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">ordered_attr_result</span><span class="p">]</span>
    <span class="n">num_attrs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">curr_obj_attr_ids</span><span class="p">)))</span> <span class="c1"># Get the number of unique action ID&#39;s.</span>
    <span class="n">used_attr_ids</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">ordered_attr_result</span><span class="p">:</span>            
        <span class="n">attr_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">attr_value_json</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">target_object_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">attr_id</span> <span class="ow">in</span> <span class="n">used_attr_ids</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">used_attr_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attr_id</span><span class="p">)</span>                        

        <span class="n">attr_name</span> <span class="o">=</span> <span class="n">ResearchObject</span><span class="o">.</span><span class="n">_get_attr_name</span><span class="p">(</span><span class="n">attr_id</span><span class="p">)</span>
        <span class="c1"># Translate the attribute from string to the proper type/format.                     </span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">from_json_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;self.from_json_&quot;</span> <span class="o">+</span> <span class="n">attr_name</span><span class="p">)</span>
            <span class="n">attr_value</span> <span class="o">=</span> <span class="n">from_json_method</span><span class="p">(</span><span class="n">attr_value_json</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">attr_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">attr_value_json</span><span class="p">)</span>            
        <span class="c1"># Now that the value is loaded as the proper type/format (and is not None), validate it.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">attr_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">validate_method</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;self.validate_&quot;</span> <span class="o">+</span> <span class="n">attr_name</span><span class="p">)</span>
                <span class="n">validate_method</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_value</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">used_attr_ids</span><span class="p">)</span> <span class="o">==</span> <span class="n">num_attrs</span><span class="p">:</span>
            <span class="k">break</span> <span class="c1"># Every attribute is accounted for.</span>

    <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.object_exists" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">object_exists</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Return true if the specified id exists in the database, false if not.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">object_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return true if the specified id exists in the database, false if not.&quot;&quot;&quot;</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">sqlquery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT object_id FROM research_objects WHERE object_id = &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlquery</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="ResearchOS.research_object.ResearchObject.parse_id" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Parse an ID into its prefix, abstract, and instance parts.</p>

          <details class="quote">
            <summary>Source code in <code>src/ResearchOS/research_object.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse an ID into its prefix, abstract, and instance parts.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_id</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid ID.&quot;</span><span class="p">)</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">abstract</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="o">+</span><span class="n">abstract_id_len</span><span class="p">]</span>
    <span class="n">num_underscores</span> <span class="o">=</span> <span class="nb">id</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">num_underscores</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>            
        <span class="n">instance</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="o">-</span><span class="n">instance_id_len</span><span class="p">:]</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">abstract</span><span class="p">,</span> <span class="n">instance</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>