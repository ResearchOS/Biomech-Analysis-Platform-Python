<html>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
      <div class="mermaid">
    
        classDiagram
          class Action {
            conn
            id : Optional[str]
            name : Optional[str]
            redo_of : Optional[str]
            sql_queries : list
            timestamp : datetime
            user_object_id : Optional[str]
            add_sql_query(sqlquery: str) None
            execute(commit: bool) None
            get_latest_action(user_id: str) 'Action'
            next() 'Action'
            previous() 'Action'
            redo() None
            restore() None
            undo() None
          }
          class Analysis {
            prefix : str
            load() None
          }
          class Analysis {
          }
          class Config {
            load_config(config_path: str, key: str) None
          }
          class CurrentUser {
            conn
            get_current_user_id() str
            set_current_user_id(user: str) None
          }
          class DBConnection {
          }
          class DBConnectionFactory {
            create_db_connection() DBConnection
          }
          class DBConnectionMySQL {
            conn
          }
          class DBConnectionSQLite {
            conn
          }
          class DBHandler {
            conn
            add_setting(setting: str, value: str) None
            get_setting(setting: str) str
            isolate_most_recent(result: list, action_col_num: int, duplicate_col_num: int) list
            set_current_user_object_id(user_object_id: str) None
          }
          class DBInitializer {
            conn
            db_file : str
            check_tables_exist(intended_tables: list)
            create_tables()
            init_current_user_id(user_id: str)
          }
          class DataObject {
            add_vr_row(vr_id: str, value: Any, schema_id: str, action: Action) None
            delete_vr(vr_id: str)* None
            get_dataset_id(schema_id: str) str
            get_levels(schema_id: str) list
            get_vr_file_path(vr_id: str, dataset_id: str, levels: list) str
            load() None
            load_data_values() None
            save_data_values(value: Any, vr_id: str, dataset_id: str, schema_id: str) None
          }
          class Dataset {
            prefix : str
            schema
            load() None
            load_addresses() list
            load_schema() None
            save_addresses(addresses: list, action: Action) None
            save_schema(schema: list, action: Action) None
            validate_addresses(addresses: list) None
            validate_dataset_path(path: str) None
            validate_schema(schema: list) None
          }
          class IDCreator {
            conn
            create_action_id() str
            create_ro_id(cls, abstract: str, instance: str, is_abstract: bool) str
            is_ro_id(id: str) bool
          }
          class Logsheet {
            num_header_rows : int
            prefix : str
            from_json_class_column_names(json_var: dict) dict
            from_json_headers(json_var: str) list
            load() None
            load_xlsx() list[list]
            read_and_clean_logsheet(nrows: int) None
            read_logsheet() None
            to_json_class_column_names(var: dict) dict
            to_json_headers(headers: list) str
            validate_class_column_names(class_column_names: dict) None
            validate_headers(headers: list) None
            validate_num_header_rows(num_header_rows: int) None
            validate_path(path: str) None
            validate_subset_id(subset_id: str) None
          }
          class Phase {
            prefix : str
            load() None
          }
          class PipelineObject {
            load()* None
          }
          class Plot {
            prefix : str
            load() None
          }
          class Process {
            prefix : str
            add_input_variable_id(var_id)
            add_output_variable_id(var_id)
            add_subset_id(ss_id)
            from_json_level(level: str) type
            from_json_method(json_method: str) Callable
            get_input_variables() list
            get_output_variables() list
            get_subsets() list
            load() None
            remove_input_variable_id(var_id)
            remove_output_variable_id(var_id)
            remove_subset_id(ss_id)
            run_method() None
            run_recurse(full_schema: list[type]) None
            to_json_level(level: type) str
            to_json_method(method: Callable) str
            validate_level(level: type) None
            validate_method(method: Callable) None
          }
          class Process {
          }
          class Project {
            current_analysis_id
            prefix : str
            project_path : str
            add_analysis_id(analysis_id: str)
            get_analyses() list['Analysis']
            get_users() list
            load() None
            open_project_path() None
            remove_analysis_id(analysis_id: str)
            validate_current_analysis_id(id: str) None
            validate_current_dataset_id(id: str) None
            validate_project_path(path: str) None
          }
          class Project {
          }
          class ROGraph {
          }
          class ResearchObject {
          }
          class ResearchObjectHandler {
            counts : dict
            instances : WeakValueDictionary
            check_inputs(tmp_kwargs: dict) None
            from_json(research_object: 'ResearchObject', attr_name: str, attr_value_json: Any) Any
            object_exists(id: str) bool
            save_simple_attribute(id: str, name: str, json_value: Any, action: Action) Action
            to_json(research_object: 'ResearchObject', attr_name: str, attr_value: Any) Any
            validator(research_object: 'ResearchObject', attr_name: str, attr_value: Any) Any
          }
          class Subject {
            prefix : str
            load() None
          }
          class Subset {
            prefix : str
            get_plots() list
            get_processes() list
            get_subset() dict[dict]
            get_trials() list
            load() None
            validate_conditions(conditions: dict) None
          }
          class System {
            current_user_object_id
            db
          }
          class Trial {
            prefix : str
            load() None
          }
          class User {
          }
          class Variable {
            prefix : str
            get_source_object_ids(cls: type) list
            load()* None
            validate_level(level: type) None
          }
          class Visit {
            prefix : str
            load() None
          }
          DataObject --|> ResearchObject
          Dataset --|> DataObject
          Phase --|> DataObject
          Subject --|> DataObject
          Trial --|> DataObject
          Visit --|> DataObject
          Analysis --|> PipelineObject
          Process --|> PipelineObject
          Project --|> PipelineObject
          Analysis --|> PipelineObject
          Logsheet --|> PipelineObject
          PipelineObject --|> ResearchObject
          Plot --|> PipelineObject
          Process --|> PipelineObject
          Project --|> PipelineObject
          Subset --|> PipelineObject
          DBConnectionMySQL --|> DBConnection
          DBConnectionSQLite --|> DBConnection
          Variable --|> DataObject
          Variable --|> PipelineObject
  
       </div>
  </body>
</html>
